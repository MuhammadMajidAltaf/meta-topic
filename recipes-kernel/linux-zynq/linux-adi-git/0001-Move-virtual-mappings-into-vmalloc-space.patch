From 6089e1df9311c426296ce5c96bddb327b7ae6f24 Mon Sep 17 00:00:00 2001
From: Mike Looijmans <mike.looijmans@topic.nl>
Date: Thu, 29 Nov 2012 15:26:17 +0100
Subject: [PATCH] Move virtual mappings into vmalloc space

fixes the folowing kernel messages at startup:
BUG: mapping for 0xf8f00000 at 0xfe00c000 out of vmalloc space
BUG: mapping for 0xe0001000 at 0xfe001000 out of vmalloc space
BUG: mapping for 0xffff1000 at 0xfe200000 out of vmalloc space

vmalloc space defaults to "0xee000000 - 0xfd000000"
---
 arch/arm/mach-zynq/include/mach/zynq_soc.h |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/arm/mach-zynq/include/mach/zynq_soc.h b/arch/arm/mach-zynq/include/mach/zynq_soc.h
index e8b13d3..c46c8ff 100644
--- a/arch/arm/mach-zynq/include/mach/zynq_soc.h
+++ b/arch/arm/mach-zynq/include/mach/zynq_soc.h
@@ -20,22 +20,22 @@
 /* For now, all mappings are flat (physical = virtual)
  */
 #define UART0_PHYS			0xE0000000
-#define UART0_VIRT			0xFE000000
+#define UART0_VIRT			0xFC000000
 
 //#define UART1_PHYS			0xE0001000
 //#define UART1_VIRT			0xFE001000
 
 #define SCU_PERIPH_PHYS			0xF8F00000
-#define SCU_PERIPH_VIRT			0xFE00C000
+#define SCU_PERIPH_VIRT			0xFC00C000
 
 /* Virtual addresses now have to stay lower in newer kernels, so move the OCM down
- * from 0xFFXXXXXX to 0xFEXXXXXX to make it work 
+ * from 0xFFXXXXXX to 0xFCXXXXXX to make it work
  */
 #define OCM_LOW_PHYS			0xFFFC0000
-#define OCM_LOW_VIRT			0xFE100000
+#define OCM_LOW_VIRT			0xFC100000
 
 #define OCM_HIGH_PHYS			0xFFFF1000
-#define OCM_HIGH_VIRT			0xFE200000
+#define OCM_HIGH_VIRT			0xFC200000
 
 /* The following are intended for the devices that are mapped early */
 
-- 
1.7.5.4

